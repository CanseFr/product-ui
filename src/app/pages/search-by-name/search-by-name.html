<div class="container">

<!--  <form class="form-inline">-->
<!--    <div class="form-group mx-sm-3 mb-2 mt-2 ">-->
<!--      <label>Nom Produit</label>-->
<!--      <input type="text" class="form-control" [(ngModel)]="productName" name="nomProduit"-->
<!--             class="form-control">-->
<!--      <button type="submit" (click)="findProduct()" class="btn btn-primary mb-2 ml-2">Rechercher</button>-->
<!--    </div>-->
<!--  </form>-->

<!--  <form class="form-inline">-->
<!--    <div class="form-group mx-sm-3 mb-2 mt-2 ">-->
<!--      <label>Nom Produit</label>-->
<!--      <input class="form-control" #searchTerm (keyup)="onKeyUp(searchTerm.value)">-->
<!--    </div>-->
<!--  </form>-->

  <form class="form-inline">
    <div class="form-group mx-sm-3 mb-2 mt-2 ">
      <label>Nom Produit</label>
      <input #nameProduct [(ngModel)]="searchTerm" name="searchTerm" class="form-control" >
    </div>
  </form>

  <div class="card shadow mb-4">
    <div class="card-body">
      <table class="table table-striped">
        <tr>
          <th>Id</th>
          <th>Nom</th>
          <th>Prix</th>
          <th>Date Création</th>
          <th>Catégorie</th>
        </tr>
<!--        @for (p of products; track p.id)-->
        @for (p of products | searchFilter: searchTerm; track p.id)
          {
            <tbody>
            <tr>
              <td>{{p.id}}</td>
              <td>{{p.nameProduct}}</td>
              <td>{{p.priceProduct}}</td>
              <td>{{p.dateCreated | date:'dd/MM/yyyy'}}</td>
              @if(p.category){
                <td>{{p.category.name | titlecase}}</td> }
              @else {
                <td>PAS DE CATEGORIE</td>
              }
              <!--
              <td><a class="btn btn-danger"
              (click)="supprimerProduit(produit)">Supprimer</a></td>
              <td><a class="btn btn-success"
              [routerLink]="['/updateProduit',produit.idProduit]">Modifier</a></td> -->
            </tr>
            </tbody>
          }
      </table>
    </div>
  </div>
</div>
