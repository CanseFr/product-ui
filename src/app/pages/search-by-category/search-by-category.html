<div class="container">

  <div class="container">
    <div class="col-sm-4 col-md-4 col-lg-4 mb-4">
      <label>Categories </label>
      <select class="form-control form-control-lg" id="idCat" name="idCat"
              [(ngModel)]="idCategory" (change)="onChange()">
        @for(cat of categories;track cat.id)
        {
          <option value="{{cat.id}}"> {{cat.name | titlecase}} </option>
        }
      </select>
    </div>

  <div class="card shadow mb-4">
    <div class="card-body">
      <table class="table table-striped">
        <tr>
          <th>Id</th>
          <th>Nom</th>
          <th>Prix</th>
          <th>Date Création</th>
          <th>Catégorie</th>
        </tr>
        @for (p of products; track p.id) {
          <tbody>
          <tr>
            <td>{{ p.id }}</td>
            <td>{{ p.nameProduct }}</td>
            <td>{{ p.priceProduct }}</td>
            <td>{{ p.dateCreated | date:'dd/MM/yyyy' }}</td>
            @if (p.category) {
              <td>{{ p.category.name }}</td>
            } @else {
              <td>PAS DE CATEGORIE</td>
            }
            <!--
            <td><a class="btn btn-danger"
            (click)="supprimerProduit(produit)">Supprimer</a></td>
            <td><a class="btn btn-success"
            [routerLink]="['/updateProduit',produit.idProduit]">Modifier</a></td> -->
          </tr>
          </tbody>
        }
      </table>
    </div>
  </div>
</div>
